# ğŸ¨ Guia Visual - Nova AnÃ¡lise de Tempo de ResoluÃ§Ã£o

## Estrutura do Dashboard - Antes vs Depois

### ANTES (4 SecÃ§Ãµes)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Row 1: KPIs (4 colunas)                                    â”‚
â”‚  - Total Registos | Entidades Ativas | RNCs Aberto | Taxa   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 2: (3 cols)                                            â”‚
â”‚  - TendÃªncia Mensal (2/3) | Status Geral RNCs (1/3)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 3: (2 cols)                                            â”‚
â”‚  - Total RNCs por Ano | Top 5 Keywords                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 4:                                                     â”‚
â”‚  - DistribuiÃ§Ã£o Completa Keywords (100%)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DEPOIS (5 SecÃ§Ãµes) âœ¨ NOVO
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Row 1: KPIs (4 colunas)                                    â”‚
â”‚  - Total Registos | Entidades Ativas | RNCs Aberto | Taxa   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 2: (3 cols)                                            â”‚
â”‚  - TendÃªncia Mensal (2/3) | Status Geral RNCs (1/3)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 3: (2 cols)                                            â”‚
â”‚  - Total RNCs por Ano | Top 5 Keywords                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 4: (2 cols) âœ¨ NOVO                                    â”‚
â”‚  - Tempo ResoluÃ§Ã£o GrÃ¡fico | EstatÃ­sticas 4 KPIs            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 5:                                                     â”‚
â”‚  - DistribuiÃ§Ã£o Completa Keywords (100%)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Novo Quadro em Detalhe

### LocalizaÃ§Ã£o no HTML
```html
Line ~160-200 em index.html (antes de Logo Footer)

<!-- Row 4: AnÃ¡lise de Tempo Previsto de ResoluÃ§Ã£o -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
    <div class="bg-white p-6 rounded-3xl border border-slate-200 shadow-sm">
        <!-- GrÃ¡fico Histograma -->
        <canvas id="tempoResolucaoChart"></canvas>
    </div>
    <div class="bg-white p-6 rounded-3xl border border-slate-200 shadow-sm">
        <!-- 4 KPIs em grid 2x2 -->
        <div class="grid grid-cols-2 gap-4">
            <div id="tempoMedio">-</div>
            <div id="tempoMaximo">-</div>
            <div id="tempoMinimo">-</div>
            <div id="tempoDesvio">-</div>
        </div>
    </div>
</div>
```

### Layout Responsivo

#### Desktop (1400px+)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚  GrÃ¡fico Histograma       â”‚    EstatÃ­sticas                 â”‚
â”‚  (50% da largura)         â”‚    Tempo MÃ©dio     Tempo MÃ¡x    â”‚
â”‚                           â”‚    Tempo Min       Desvio Padr  â”‚
â”‚                           â”‚    (50% da largura)             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Tablet (768px - 1399px)
```
Mesmo layout de 2 colunas
```

#### Mobile (< 768px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              â”‚
â”‚ GrÃ¡fico Histograma (100%)    â”‚
â”‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ EstatÃ­sticas em Stack (100%) â”‚
â”‚ Tempo MÃ©dio  â”‚  Tempo MÃ¡x    â”‚
â”‚ Tempo Min    â”‚  Desvio Padr  â”‚
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Elementos Visuais

### Ãcone de Categoria
```
ğŸ”µ Ponto teal (#14b8a6) - 2px de tamanho
Aparece em:
- TÃ­tulo do grÃ¡fico (esquerda)
- TÃ­tulo das estatÃ­sticas (esquerda)
```

### Cores

| Componente | Cor | Valor |
|-----------|-----|-------|
| Ponto indicador | Teal | #14b8a6 |
| GrÃ¡fico barra | Teal | #14b8a6 |
| BG KPI | Cinzento | #f1f5f9 |
| Tempo MÃ©dio | Teal bold | #14b8a6 |
| Tempo MÃ¡ximo | Laranja bold | #ea580c |
| Tempo MÃ­nimo | Verde bold | #16a34a |
| Desvio PadrÃ£o | Azul bold | #2563eb |

### Tipografia

| Elemento | Font | Size | Weight |
|----------|------|------|--------|
| TÃ­tulo quadro | Inter | 18px | bold (font-bold) |
| Label KPI | Inter | 9px | bold uppercase |
| Valor KPI | Inter | 24px | black (font-black) |

## GrÃ¡fico Histograma Detalhado

### Tipo: Bar Chart (Chart.js)
```javascript
type: 'bar'
```

### Dados Processados
```javascript
Input: [5, 10, 15, 25, 28, 30, 35, 38]
Bins (10 dias): {
  "0-9": 1,
  "10-19": 2,
  "20-29": 3,
  "30-39": 2
}
```

### VisualizaÃ§Ã£o
```
DistribuiÃ§Ã£o de Tempo Previsto de ResoluÃ§Ã£o
  
  8 â”‚
  7 â”‚                      â–ˆâ–ˆâ–ˆâ–ˆ
  6 â”‚
  5 â”‚                      â–ˆâ–ˆâ–ˆâ–ˆ
  4 â”‚
  3 â”‚        â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆ
  2 â”‚        â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆ
  1 â”‚        â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆ
  0 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     0-9   10-19  20-29  30-39
```

### AnimaÃ§Ã£o
- Aparece gradualmente (fade-in)
- Responde aos filtros em tempo real
- Suave transiÃ§Ã£o ao atualizar

## KPIs de EstatÃ­sticas

### Layout Grid 2x2
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   TEMPO      â”‚    TEMPO     â”‚
â”‚   MÃ‰DIO      â”‚    MÃXIMO    â”‚
â”‚     25       â”‚      48      â”‚
â”‚   dias       â”‚    dias      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   TEMPO      â”‚    DESVIO    â”‚
â”‚   MÃNIMO     â”‚    PADRÃƒO    â”‚
â”‚      5       â”‚     8.4      â”‚
â”‚   dias       â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Fonte de Dados
```
Tempo MÃ©dio:   = SUM(tempos) / COUNT(tempos)
Tempo MÃ¡ximo:  = MAX(tempos)
Tempo MÃ­nimo:  = MIN(tempos)
Desvio PadrÃ£o: = STDEV(tempos)
```

## IntegraÃ§Ã£o com Filtros

### Fluxo de Dados
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SeleÃ§Ã£o de Filtro  â”‚
â”‚  (Entidade/Ano)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  updateDashboard() chamado      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Filter dados com selected*     â”‚
â”‚  (selectedYears, Entities, etc) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  renderTempoResolucaoChart()    â”‚
â”‚  passando dados filtrados       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Calcula stats + renderiza      â”‚
â”‚  grÃ¡fico com dados novos        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## PDF Export

### PÃ¡gina 2 - Estrutura Adicionada

```
PÃ¡gina 2 (297mm x 210mm):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Titulo: Tempo ResoluÃ§Ã£o GrÃ¡fico    â”‚ <- NOVO
â”‚  [Imagem 200px altura]              â”‚ <- NOVO
â”‚                                     â”‚
â”‚  Titulo: DistribuiÃ§Ã£o Keywords      â”‚
â”‚  [Imagem 200px altura]              â”‚
â”‚                                     â”‚
â”‚  Footer + Data                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DimensÃµes
- Imagem mÃ¡xima: 200px altura (vs 280px anterior para keywords)
- Largura: 100% (full-width)
- Margins: 12px padding
- Border: 1px solid #e2e8f0

### Processamento
```javascript
// Capturar imagem
tempoResolucaoImg = canvas.toDataURL('image/png')

// No template HTML
${tempoResolucaoImg ? `<img src="${tempoResolucaoImg}" />` : ''}
```

## Estados PossÃ­veis

### 1ï¸âƒ£ Com Dados Abundantes
```
GrÃ¡fico: Mostra histograma colorido
KPIs: NÃºmeros reais (ex: 25, 48, 5, 8.4)
Status: âœ… Operacional
```

### 2ï¸âƒ£ Com Poucos Dados
```
GrÃ¡fico: Colunas baixas ou vazias
KPIs: NÃºmeros pequenos
Status: âœ… Operacional (esperado)
```

### 3ï¸âƒ£ Sem Dados
```
GrÃ¡fico: Mensagem "Sem dados..."
KPIs: "-"
Status: âš ï¸ Normal (sem perÃ­odo selecionado)
```

### 4ï¸âƒ£ Campo NÃ£o Existe (Antes de Apps Script Update)
```
GrÃ¡fico: Mensagem "Sem dados..."
KPIs: "-"
Status: âš ï¸ Apps Script precisa atualizar
```

## Checklist de Componentes

```
HTML:
âœ… 2 divs principais (grÃ¡fico + stats)
âœ… Canvas element com ID "tempoResolucaoChart"
âœ… 4 elementos para KPIs (tempoMedio, etc)
âœ… Classes Tailwind CSS aplicadas

JavaScript:
âœ… FunÃ§Ã£o renderTempoResolucaoChart() definida
âœ… CÃ¡lculos de mÃ©dia, mÃ¡ximo, mÃ­nimo, desvio
âœ… CriaÃ§Ã£o de Chart.js com histograma
âœ… Chamada em updateDashboard()

PDF:
âœ… Captura de imagem do canvas
âœ… Template HTML com condiÃ§Ã£o ${tempoResolucaoImg ? ...}
âœ… PÃ¡gina 2 estruturada corretamente
âœ… DimensÃµes otimizadas para A4

Estilos:
âœ… Cores aplicadas (teal, laranja, verde, azul)
âœ… Tipografia correta (Inter, bold, 24px)
âœ… Layout responsivo (grid 2x2 em desktop, stack em mobile)
âœ… Bordas e shadows consistentes
```

---

**Resumo**: Adicionado 1 novo quadro (Row 4) com 2 componentes (grÃ¡fico + 4 KPIs), integrado no fluxo de filtros e PDF export.
